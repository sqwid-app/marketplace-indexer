manifestVersion: subsquid.io/v0.1
name: sqwid-marketplace-testnet
version: 1
description: |-
  Sqwid marketplace testnet processor

build:

deploy:
  addons:
    postgres:
  processor:
    env:
      NETWORK:
        testnet
      NODE_RPC_WS:
        wss://rpc-testnet.reefscan.info/ws
      ARCHIVE_LOOKUP_NAME:
        reef-testnet
      START_BLOCK:
        1
      MARKET_CONTRACT_ADDRESS:
        "0xB4630116Dca95650C1E56F3dD39c7edeb1075B38"
      NFT_CONTRACT_ADDRESS:
        "0xc2F3BE4636A0a1ddf3b4D63ef22014DD41114336"
      PUSHER_ENABLED:
        true
      PUSHER_APP_ID:
        1629403
      PUSHER_KEY:
        fc5ad78eb31981de6c67
      PUSHER_CLUSTER:
        eu
      PUSHER_CHANNEL:
        reef-chain
      PUSHER_EVENT:
        sqwid-events-emitted-testnet
    cmd: [ "node", "lib/processor" ]
  api:
    cmd: [ "npx", "squid-graphql-server", "--max-root-fields", "15", "--max-response-size", "1000"]
  secrets:
    - PUSHER_SECRET

